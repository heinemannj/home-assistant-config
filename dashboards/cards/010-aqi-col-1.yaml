type: custom:vertical-stack-in-card
cards:
  - type: custom:mushroom-title-card
    title: Air Quality
    subtitle: Borken Gemen, Germany
  - type: gauge
    entity: sensor.air_quality_index_borken
    name: AQI
    unit: ""
    needle: true
    min: 0
    max: 500
    segments: !include /config/custom_templates/aqi-gauge-segments.yaml
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 45% 55%
      margin: "-4px -4px -20px -4px;"
    cards:
      - type: custom:mushroom-template-card
        primary: >-
          {% from 'aqi.jinja' import aqi_primary %}
          {{ aqi_primary('sensor.air_quality_index_borken') }}
        secondary: "{{states('sensor.air_quality_index_borken')}}"
        icon: mdi:leaf
        entity: sensor.air_quality_index_borken
        icon_color: >-
          {% from 'aqi.jinja' import aqi_icon_color %}
          {{ aqi_icon_color('sensor.air_quality_index_borken') }}
        tap_action:
          action: more-info
        card_mod:
          style: |
            ha-card {
              box-shadow: none !important;
              border: none 0px !important;
              border-style: none !important;
            }
      - type: custom:bar-card
        entities:
          - entity: sensor.air_quality_index_borken
        name: " "
        severity: !include /config/custom_templates/aqi-bar-severity.yaml
        min: "0"
        max: "500"
        decimal: "4"
        entity_row: true
        height: 42px
        positions:
          icon: "off"
          indicator: "off"
          value: "off"
        color: grey
        card_mod:
          style: |
            ha-card {
              padding: 12px;
              margin-left: 12px;
              --bar-card-border-radius: 12px;
              border-style: none !important;
            }
            bar-card-backgroundbar {
              opacity: 0.2;
              filter: brightness(1);
            }
  - type: conditional
    conditions:
      - entity: sensor.ozone_o3_borken
        state_not: unavailable
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        grid-template-columns: 45% 55%
        margin: "-4px -4px -20px -4px;"
      cards:
        - type: custom:mushroom-template-card
          primary: Ozone (O3)
          secondary: "{{states('sensor.ozone_o3_borken')}} AQI"
          icon: mdi:skull-outline
          entity: sensor.ozone_o3_borken
          icon_color: >-
            {% from 'aqi.jinja' import aqi_icon_color %}
            {{ aqi_icon_color('sensor.ozone_o3_borken') }}
          tap_action:
            action: more-info
          fill_container: true
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: solid 0px ;
              }
        - type: custom:bar-card
          name: " "
          height: 42px
          min: "0"
          max: "500"
          decimal: "4"
          severity:
            - from: "0"
              to: "50"
              color: green
            - from: "50.0001"
              to: "100"
              color: yellow
            - from: "100.0001"
              to: "150"
              color: orange
            - from: "150.0001"
              to: "200"
              color: red
            - from: "200.0001"
              to: "300"
              color: purple
            - from: "300.0001"
              to: "500"
              color: "#7e0023"
          entity_row: true
          positions:
            icon: "off"
            indicator: "off"
            value: "off"
          entities:
            - entity: sensor.ozone_o3_borken
          color: grey
          card_mod:
            style: |
              ha-card {
                padding: 12px;
                margin-left: 12px;
                --bar-card-border-radius: 12px;
              }
              bar-card-backgroundbar {
                opacity: 0.2;
                filter: brightness(1);
              }
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 45% 55%
      margin: "-4px -4px -20px -4px;"
    cards:
      - type: custom:mushroom-template-card
        primary: PM2.5
        secondary: "{{states('sensor.particulate_matter_pm25_borken')}} AQI"
        icon: mdi:skull-outline
        entity: sensor.particulate_matter_pm25_borken
        icon_color: >-
          {% from 'aqi.jinja' import aqi_icon_color %}
          {{ aqi_icon_color('sensor.particulate_matter_pm25_borken') }}
        tap_action:
          action: more-info
        fill_container: true
        card_mod:
          style: |
            ha-card {
              box-shadow: none;
              border: solid 0px ;
            }
      - type: custom:bar-card
        name: " "
        height: 42px
        min: "0"
        max: "500"
        decimal: "4"
        severity:
          - from: "0"
            to: "50"
            color: green
          - from: "50.0001"
            to: "100"
            color: yellow
          - from: "100.0001"
            to: "150"
            color: orange
          - from: "150.0001"
            to: "200"
            color: red
          - from: "200.0001"
            to: "300"
            color: purple
          - from: "300.0001"
            to: "500"
            color: "#7e0023"
        entity_row: true
        positions:
          icon: "off"
          indicator: "off"
          value: "off"
        entities:
          - entity: sensor.particulate_matter_pm25_borken
        color: grey
        card_mod:
          style: |
            ha-card {
              padding: 12px;
              margin-left: 12px;
              --bar-card-border-radius: 12px;
            }
            bar-card-backgroundbar {
              opacity: 0.2;
              filter: brightness(1);
            }
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 45% 55%
      margin: "-4px -4px -20px -4px;"
    cards:
      - type: custom:mushroom-template-card
        primary: PM10
        secondary: "{{states('sensor.particulate_matter_pm10_borken')}} AQI"
        icon: mdi:skull-outline
        entity: sensor.particulate_matter_pm10_borken
        icon_color: >-
          {% from 'aqi.jinja' import aqi_icon_color %}
          {{ aqi_icon_color('sensor.particulate_matter_pm10_borken') }}
        tap_action:
          action: more-info
        fill_container: true
        card_mod:
          style: |
            ha-card {
              box-shadow: none;
              border: solid 0px ;
            }
      - type: custom:bar-card
        name: " "
        height: 42px
        min: "0"
        max: "500"
        decimal: "4"
        severity:
          - from: "0"
            to: "50"
            color: green
          - from: "50.0001"
            to: "100"
            color: yellow
          - from: "100.0001"
            to: "150"
            color: orange
          - from: "150.0001"
            to: "200"
            color: red
          - from: "200.0001"
            to: "300"
            color: purple
          - from: "300.0001"
            to: "500"
            color: "#7e0023"
        entity_row: true
        positions:
          icon: "off"
          indicator: "off"
          value: "off"
        entities:
          - entity: sensor.particulate_matter_pm10_borken
        color: grey
        card_mod:
          style: |
            ha-card {
              padding: 12px;
              margin-left: 12px;
              --bar-card-border-radius: 12px;
            }
            bar-card-backgroundbar {
              opacity: 0.2;
              filter: brightness(1);
            }
  - type: conditional
    conditions:
      - entity: sensor.carbon_monoxide_co_borken
        state_not: unavailable
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        grid-template-columns: 45% 55%
        margin: "-4px -4px -20px -4px;"
      cards:
        - type: custom:mushroom-template-card
          primary: Carbon monoxide (CO)
          secondary: "{{states('sensor.carbon_monoxide_co_borken')}} AQI"
          icon: mdi:skull-outline
          entity: sensor.carbon_monoxide_co_borken
          icon_color: >-
            {% from 'aqi.jinja' import aqi_icon_color %}
            {{ aqi_icon_color('sensor.carbon_monoxide_co_borken') }}
          tap_action:
            action: more-info
          fill_container: true
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: solid 0px ;
              }
        - type: custom:bar-card
          name: " "
          height: 42px
          min: "0"
          max: "500"
          decimal: "4"
          severity:
            - from: "0"
              to: "50"
              color: green
            - from: "50.0001"
              to: "100"
              color: yellow
            - from: "100.0001"
              to: "150"
              color: orange
            - from: "150.0001"
              to: "200"
              color: red
            - from: "200.0001"
              to: "300"
              color: purple
            - from: "300.0001"
              to: "500"
              color: "#7e0023"
          entity_row: true
          positions:
            icon: "off"
            indicator: "off"
            value: "off"
          entities:
            - entity: sensor.carbon_monoxide_co_borken
          color: grey
          card_mod:
            style: |
              ha-card {
                padding: 12px;
                margin-left: 12px;
                --bar-card-border-radius: 12px;
              }
              bar-card-backgroundbar {
                opacity: 0.2;
                filter: brightness(1);
              }
  - type: conditional
    conditions:
      - entity: sensor.sulphur_dioxide_so2_borken
        state_not: unavailable
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        grid-template-columns: 45% 55%
        margin: "-4px -4px -20px -4px;"
      cards:
        - type: custom:mushroom-template-card
          primary: Sulphur dioxide (SO2)
          secondary: "{{states('sensor.sulphur_dioxide_so2_borken')}} AQI"
          icon: mdi:smog
          entity: sensor.sulphur_dioxide_so2_borken
          icon_color: >-
            {% from 'aqi.jinja' import aqi_icon_color %}
            {{ aqi_icon_color('sensor.sulphur_dioxide_so2_borken') }}
          tap_action:
            action: more-info
          fill_container: true
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: solid 0px ;
              }
        - type: custom:bar-card
          name: " "
          height: 42px
          min: "0"
          max: "500"
          decimal: "4"
          severity:
            - from: "0"
              to: "50"
              color: green
            - from: "50.0001"
              to: "100"
              color: yellow
            - from: "100.0001"
              to: "150"
              color: orange
            - from: "150.0001"
              to: "200"
              color: red
            - from: "200.0001"
              to: "300"
              color: purple
            - from: "300.0001"
              to: "500"
              color: "#7e0023"
          entity_row: true
          positions:
            icon: "off"
            indicator: "off"
            value: "off"
          entities:
            - entity: sensor.sulphur_dioxide_so2_borken
          color: grey
          card_mod:
            style: |
              ha-card {
                padding: 12px;
                margin-left: 12px;
                --bar-card-border-radius: 12px;
              }
              bar-card-backgroundbar {
                opacity: 0.2;
                filter: brightness(1);
              }
  - type: conditional
    conditions:
      - entity: sensor.nitrogen_dioxide_no2_borken
        state_not: unavailable
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        grid-template-columns: 45% 55%
        margin: "-4px -4px -20px -4px;"
      cards:
        - type: custom:mushroom-template-card
          primary: Nitrogen dioxide (NO2)
          secondary: "{{states('sensor.nitrogen_dioxide_no2_borken')}} AQI"
          icon: mdi:smog
          entity: sensor.nitrogen_dioxide_no2_borken
          icon_color: >-
            {% from 'aqi.jinja' import aqi_icon_color %}
            {{ aqi_icon_color('sensor.nitrogen_dioxide_no2_borken') }}
          tap_action:
            action: more-info
          fill_container: true
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: solid 0px ;
              }
        - type: custom:bar-card
          name: " "
          height: 42px
          min: "0"
          max: "500"
          decimal: "4"
          severity:
            - from: "0"
              to: "50"
              color: green
            - from: "50.0001"
              to: "100"
              color: yellow
            - from: "100.0001"
              to: "150"
              color: orange
            - from: "150.0001"
              to: "200"
              color: red
            - from: "200.0001"
              to: "300"
              color: purple
            - from: "300.0001"
              to: "500"
              color: "#7e0023"
          entity_row: true
          positions:
            icon: "off"
            indicator: "off"
            value: "off"
          entities:
            - entity: sensor.nitrogen_dioxide_no2_borken
          color: grey
          card_mod:
            style: |
              ha-card {
                padding: 12px;
                margin-left: 12px;
                --bar-card-border-radius: 12px;
              }
              bar-card-backgroundbar {
                opacity: 0.2;
                filter: brightness(1);
              }
  - type: custom:mushroom-title-card
    title: ""
    subtitle: Schermbeck, Germany
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 45% 55%
      margin: "-4px -4px -20px -4px;"
    cards:
      - type: custom:mushroom-template-card
        primary: >-
          {% from 'aqi.jinja' import aqi_primary %}
          {{ aqi_primary('sensor.air_quality_index_schermbeck') }}
        secondary: "{{states('sensor.air_quality_index_schermbeck')}}"
        icon: mdi:leaf
        entity: sensor.air_quality_index_schermbeck
        icon_color: >-
          {% from 'aqi.jinja' import aqi_icon_color %}
          {{ aqi_icon_color('sensor.air_quality_index_schermbeck') }}
        tap_action:
          action: more-info
        card_mod:
          style: |
            ha-card {
              box-shadow: none;
              border: solid 0px ;
            }
      - type: custom:bar-card
        name: " "
        height: 42px
        min: "0"
        max: "500"
        decimal: "4"
        severity:
          - from: "0"
            to: "50"
            color: green
          - from: "50.0001"
            to: "100"
            color: yellow
          - from: "100.0001"
            to: "150"
            color: orange
          - from: "150.0001"
            to: "200"
            color: red
          - from: "200.0001"
            to: "300"
            color: purple
          - from: "300.0001"
            to: "500"
            color: "#7e0023"
        entity_row: true
        positions:
          icon: "off"
          indicator: "off"
          value: "off"
        entities:
          - entity: sensor.air_quality_index_schermbeck
        color: grey
        card_mod:
          style: |
            ha-card {
              padding: 12px;
              margin-left: 12px;
              --bar-card-border-radius: 12px;
            }
            bar-card-backgroundbar {
              opacity: 0.2;
              filter: brightness(1);
            }
  - type: conditional
    conditions:
      - entity: sensor.ozone_o3_schermbeck
        state_not: unavailable
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        grid-template-columns: 45% 55%
        margin: "-4px -4px -20px -4px;"
      cards:
        - type: custom:mushroom-template-card
          primary: Ozone (O3)
          secondary: "{{states('sensor.ozone_o3_schermbeck')}} AQI"
          icon: mdi:skull-outline
          entity: sensor.ozone_o3_schermbeck
          icon_color: >-
            {% from 'aqi.jinja' import aqi_icon_color %}
            {{ aqi_icon_color('sensor.ozone_o3_schermbeck') }}
          tap_action:
            action: more-info
          fill_container: true
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: solid 0px ;
              }
        - type: custom:bar-card
          name: " "
          height: 42px
          min: "0"
          max: "500"
          decimal: "4"
          severity:
            - from: "0"
              to: "50"
              color: green
            - from: "50.0001"
              to: "100"
              color: yellow
            - from: "100.0001"
              to: "150"
              color: orange
            - from: "150.0001"
              to: "200"
              color: red
            - from: "200.0001"
              to: "300"
              color: purple
            - from: "300.0001"
              to: "500"
              color: "#7e0023"
          entity_row: true
          positions:
            icon: "off"
            indicator: "off"
            value: "off"
          entities:
            - entity: sensor.ozone_o3_schermbeck
          color: grey
          card_mod:
            style: |
              ha-card {
                padding: 12px;
                margin-left: 12px;
                --bar-card-border-radius: 12px;
              }
              bar-card-backgroundbar {
                opacity: 0.2;
                filter: brightness(1);
              }
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 45% 55%
      margin: "-4px -4px -20px -4px;"
    cards:
      - type: custom:mushroom-template-card
        primary: PM2.5
        secondary: "{{states('sensor.particulate_matter_pm25_schermbeck')}} AQI"
        icon: mdi:skull-outline
        entity: sensor.particulate_matter_pm25_schermbeck
        icon_color: >-
          {% from 'aqi.jinja' import aqi_icon_color %}
          {{ aqi_icon_color('sensor.particulate_matter_pm25_schermbeck') }}
        tap_action:
          action: more-info
        fill_container: true
        card_mod:
          style: |
            ha-card {
              box-shadow: none;
              border: solid 0px ;
            }
      - type: custom:bar-card
        name: " "
        height: 42px
        min: "0"
        max: "500"
        decimal: "4"
        severity:
          - from: "0"
            to: "50"
            color: green
          - from: "50.0001"
            to: "100"
            color: yellow
          - from: "100.0001"
            to: "150"
            color: orange
          - from: "150.0001"
            to: "200"
            color: red
          - from: "200.0001"
            to: "300"
            color: purple
          - from: "300.0001"
            to: "500"
            color: "#7e0023"
        entity_row: true
        positions:
          icon: "off"
          indicator: "off"
          value: "off"
        entities:
          - entity: sensor.particulate_matter_pm25_schermbeck
        color: grey
        card_mod:
          style: |
            ha-card {
              padding: 12px;
              margin-left: 12px;
              --bar-card-border-radius: 12px;
            }
            bar-card-backgroundbar {
              opacity: 0.2;
              filter: brightness(1);
            }
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 45% 55%
      margin: "-4px -4px -20px -4px;"
    cards:
      - type: custom:mushroom-template-card
        primary: PM10
        secondary: "{{states('sensor.particulate_matter_pm10_schermbeck')}} AQI"
        icon: mdi:skull-outline
        entity: sensor.particulate_matter_pm10_schermbeck
        icon_color: >-
          {% from 'aqi.jinja' import aqi_icon_color %}
          {{ aqi_icon_color('sensor.particulate_matter_pm10_schermbeck') }}
        tap_action:
          action: more-info
        fill_container: true
        card_mod:
          style: |
            ha-card {
              box-shadow: none;
              border: solid 0px ;
            }
      - type: custom:bar-card
        name: " "
        height: 42px
        min: "0"
        max: "500"
        decimal: "4"
        severity:
          - from: "0"
            to: "50"
            color: green
          - from: "50.0001"
            to: "100"
            color: yellow
          - from: "100.0001"
            to: "150"
            color: orange
          - from: "150.0001"
            to: "200"
            color: red
          - from: "200.0001"
            to: "300"
            color: purple
          - from: "300.0001"
            to: "500"
            color: "#7e0023"
        entity_row: true
        positions:
          icon: "off"
          indicator: "off"
          value: "off"
        entities:
          - entity: sensor.particulate_matter_pm10_schermbeck
        color: grey
        card_mod:
          style: |
            ha-card {
              padding: 12px;
              margin-left: 12px;
              --bar-card-border-radius: 12px;
            }
            bar-card-backgroundbar {
              opacity: 0.2;
              filter: brightness(1);
            }
  - type: conditional
    conditions:
      - entity: sensor.carbon_monoxide_co_schermbeck
        state_not: unavailable
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        grid-template-columns: 45% 55%
        margin: "-4px -4px -20px -4px;"
      cards:
        - type: custom:mushroom-template-card
          primary: Carbon monoxide (CO)
          secondary: "{{states('sensor.carbon_monoxide_co_schermbeck')}} AQI"
          icon: mdi:skull-outline
          entity: sensor.carbon_monoxide_co_schermbeck
          icon_color: >-
            {% from 'aqi.jinja' import aqi_icon_color %}
            {{ aqi_icon_color('sensor.carbon_monoxide_co_schermbeck') }}
          tap_action:
            action: more-info
          fill_container: true
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: solid 0px ;
              }
        - type: custom:bar-card
          name: " "
          height: 42px
          min: "0"
          max: "500"
          decimal: "4"
          severity:
            - from: "0"
              to: "50"
              color: green
            - from: "50.0001"
              to: "100"
              color: yellow
            - from: "100.0001"
              to: "150"
              color: orange
            - from: "150.0001"
              to: "200"
              color: red
            - from: "200.0001"
              to: "300"
              color: purple
            - from: "300.0001"
              to: "500"
              color: "#7e0023"
          entity_row: true
          positions:
            icon: "off"
            indicator: "off"
            value: "off"
          entities:
            - entity: sensor.carbon_monoxide_co_schermbeck
          color: grey
          card_mod:
            style: |
              ha-card {
                padding: 12px;
                margin-left: 12px;
                --bar-card-border-radius: 12px;
              }
              bar-card-backgroundbar {
                opacity: 0.2;
                filter: brightness(1);
              }
  - type: conditional
    conditions:
      - entity: sensor.sulphur_dioxide_so2_schermbeck
        state_not: unavailable
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        grid-template-columns: 45% 55%
        margin: "-4px -4px -20px -4px;"
      cards:
        - type: custom:mushroom-template-card
          primary: Sulphur dioxide (SO2)
          secondary: "{{states('sensor.sulphur_dioxide_so2_schermbeck')}} AQI"
          icon: mdi:smog
          entity: sensor.sulphur_dioxide_so2_schermbeck
          icon_color: >-
            {% from 'aqi.jinja' import aqi_icon_color %}
            {{ aqi_icon_color('sensor.sulphur_dioxide_so2_schermbeck') }}
          tap_action:
            action: more-info
          fill_container: true
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: solid 0px ;
              }
        - type: custom:bar-card
          name: " "
          height: 42px
          min: "0"
          max: "500"
          decimal: "4"
          severity:
            - from: "0"
              to: "50"
              color: green
            - from: "50.0001"
              to: "100"
              color: yellow
            - from: "100.0001"
              to: "150"
              color: orange
            - from: "150.0001"
              to: "200"
              color: red
            - from: "200.0001"
              to: "300"
              color: purple
            - from: "300.0001"
              to: "500"
              color: "#7e0023"
          entity_row: true
          positions:
            icon: "off"
            indicator: "off"
            value: "off"
          entities:
            - entity: sensor.sulphur_dioxide_so2_schermbeck
          color: grey
          card_mod:
            style: |
              ha-card {
                padding: 12px;
                margin-left: 12px;
                --bar-card-border-radius: 12px;
              }
              bar-card-backgroundbar {
                opacity: 0.2;
                filter: brightness(1);
              }
  - type: conditional
    conditions:
      - entity: sensor.nitrogen_dioxide_no2_schermbeck
        state_not: unavailable
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        grid-template-columns: 45% 55%
        margin: "-4px -4px -20px -4px;"
      cards:
        - type: custom:mushroom-template-card
          primary: Nitrogen dioxide (NO2)
          secondary: "{{states('sensor.nitrogen_dioxide_no2_schermbeck')}} AQI"
          icon: mdi:smog
          entity: sensor.nitrogen_dioxide_no2_schermbeck
          icon_color: >-
            {% from 'aqi.jinja' import aqi_icon_color %}
            {{ aqi_icon_color('sensor.nitrogen_dioxide_no2_schermbeck') }}
          tap_action:
            action: more-info
          fill_container: true
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: solid 0px ;
              }
        - type: custom:bar-card
          name: " "
          height: 42px
          min: "0"
          max: "500"
          decimal: "4"
          severity:
            - from: "0"
              to: "50"
              color: green
            - from: "50.0001"
              to: "100"
              color: yellow
            - from: "100.0001"
              to: "150"
              color: orange
            - from: "150.0001"
              to: "200"
              color: red
            - from: "200.0001"
              to: "300"
              color: purple
            - from: "300.0001"
              to: "500"
              color: "#7e0023"
          entity_row: true
          positions:
            icon: "off"
            indicator: "off"
            value: "off"
          entities:
            - entity: sensor.nitrogen_dioxide_no2_schermbeck
          color: grey
          card_mod:
            style: |
              ha-card {
                padding: 12px;
                margin-left: 12px;
                --bar-card-border-radius: 12px;
              }
              bar-card-backgroundbar {
                opacity: 0.2;
                filter: brightness(1);
              }
  - type: custom:mushroom-title-card
    title: ""
    subtitle: Wesel Obrighoven, Germany
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 45% 55%
      margin: "-4px -4px -20px -4px;"
    cards:
      - type: custom:mushroom-template-card
        primary: >-
          {% from 'aqi.jinja' import aqi_primary %}
          {{ aqi_primary('sensor.air_quality_index_wesel') }}
        secondary: "{{states('sensor.air_quality_index_wesel')}}"
        icon: mdi:leaf
        entity: sensor.air_quality_index_wesel
        icon_color: >-
          {% from 'aqi.jinja' import aqi_icon_color %}
          {{ aqi_icon_color('sensor.air_quality_index_wesel') }}
        tap_action:
          action: more-info
        card_mod:
          style: |
            ha-card {
              box-shadow: none;
              border: solid 0px ;
            }
      - type: custom:bar-card
        name: " "
        height: 42px
        min: "0"
        max: "500"
        decimal: "4"
        severity:
          - from: "0"
            to: "50"
            color: green
          - from: "50.0001"
            to: "100"
            color: yellow
          - from: "100.0001"
            to: "150"
            color: orange
          - from: "150.0001"
            to: "200"
            color: red
          - from: "200.0001"
            to: "300"
            color: purple
          - from: "300.0001"
            to: "500"
            color: "#7e0023"
        entity_row: true
        positions:
          icon: "off"
          indicator: "off"
          value: "off"
        entities:
          - entity: sensor.air_quality_index_wesel
        color: grey
        card_mod:
          style: |
            ha-card {
              padding: 12px;
              margin-left: 12px;
              --bar-card-border-radius: 12px;
            }
            bar-card-backgroundbar {
              opacity: 0.2;
              filter: brightness(1);
            }
  - type: conditional
    conditions:
      - entity: sensor.ozone_o3_wesel
        state_not: unavailable
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        grid-template-columns: 45% 55%
        margin: "-4px -4px -20px -4px;"
      cards:
        - type: custom:mushroom-template-card
          primary: Ozone (O3)
          secondary: "{{states('sensor.ozone_o3_wesel')}} AQI"
          icon: mdi:skull-outline
          entity: sensor.ozone_o3_wesel
          icon_color: >-
            {% from 'aqi.jinja' import aqi_icon_color %}
            {{ aqi_icon_color('sensor.ozone_o3_wesel') }}
          tap_action:
            action: more-info
          fill_container: true
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: solid 0px ;
              }
        - type: custom:bar-card
          name: " "
          height: 42px
          min: "0"
          max: "500"
          decimal: "4"
          severity:
            - from: "0"
              to: "50"
              color: green
            - from: "50.0001"
              to: "100"
              color: yellow
            - from: "100.0001"
              to: "150"
              color: orange
            - from: "150.0001"
              to: "200"
              color: red
            - from: "200.0001"
              to: "300"
              color: purple
            - from: "300.0001"
              to: "500"
              color: "#7e0023"
          entity_row: true
          positions:
            icon: "off"
            indicator: "off"
            value: "off"
          entities:
            - entity: sensor.ozone_o3_wesel
          color: grey
          card_mod:
            style: |
              ha-card {
                padding: 12px;
                margin-left: 12px;
                --bar-card-border-radius: 12px;
              }
              bar-card-backgroundbar {
                opacity: 0.2;
                filter: brightness(1);
              }
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 45% 55%
      margin: "-4px -4px -20px -4px;"
    cards:
      - type: custom:mushroom-template-card
        primary: PM2.5
        secondary: "{{states('sensor.particulate_matter_pm25_wesel')}} AQI"
        icon: mdi:skull-outline
        entity: sensor.particulate_matter_pm25_wesel
        icon_color: >-
          {% from 'aqi.jinja' import aqi_icon_color %}
          {{ aqi_icon_color('sensor.particulate_matter_pm25_wesel') }}
        tap_action:
          action: more-info
        fill_container: true
        card_mod:
          style: |
            ha-card {
              box-shadow: none;
              border: solid 0px ;
            }
      - type: custom:bar-card
        name: " "
        height: 42px
        min: "0"
        max: "500"
        decimal: "4"
        severity:
          - from: "0"
            to: "50"
            color: green
          - from: "50.0001"
            to: "100"
            color: yellow
          - from: "100.0001"
            to: "150"
            color: orange
          - from: "150.0001"
            to: "200"
            color: red
          - from: "200.0001"
            to: "300"
            color: purple
          - from: "300.0001"
            to: "500"
            color: "#7e0023"
        entity_row: true
        positions:
          icon: "off"
          indicator: "off"
          value: "off"
        entities:
          - entity: sensor.particulate_matter_pm25_wesel
        color: grey
        card_mod:
          style: |
            ha-card {
              padding: 12px;
              margin-left: 12px;
              --bar-card-border-radius: 12px;
            }
            bar-card-backgroundbar {
              opacity: 0.2;
              filter: brightness(1);
            }
  - type: custom:layout-card
    layout_type: custom:grid-layout
    layout:
      grid-template-columns: 45% 55%
      margin: "-4px -4px -20px -4px;"
    cards:
      - type: custom:mushroom-template-card
        primary: PM10
        secondary: "{{states('sensor.particulate_matter_pm10_wesel')}} AQI"
        icon: mdi:skull-outline
        entity: sensor.particulate_matter_pm10_wesel
        icon_color: >-
          {% from 'aqi.jinja' import aqi_icon_color %}
          {{ aqi_icon_color('sensor.particulate_matter_pm10_wesel') }}
        tap_action:
          action: more-info
        fill_container: true
        card_mod:
          style: |
            ha-card {
              box-shadow: none;
              border: solid 0px ;
            }
      - type: custom:bar-card
        name: " "
        height: 42px
        min: "0"
        max: "500"
        decimal: "4"
        severity:
          - from: "0"
            to: "50"
            color: green
          - from: "50.0001"
            to: "100"
            color: yellow
          - from: "100.0001"
            to: "150"
            color: orange
          - from: "150.0001"
            to: "200"
            color: red
          - from: "200.0001"
            to: "300"
            color: purple
          - from: "300.0001"
            to: "500"
            color: "#7e0023"
        entity_row: true
        positions:
          icon: "off"
          indicator: "off"
          value: "off"
        entities:
          - entity: sensor.particulate_matter_pm10_wesel
        color: grey
        card_mod:
          style: |
            ha-card {
              padding: 12px;
              margin-left: 12px;
              --bar-card-border-radius: 12px;
            }
            bar-card-backgroundbar {
              opacity: 0.2;
              filter: brightness(1);
            }
  - type: conditional
    conditions:
      - entity: sensor.carbon_monoxide_co_wesel
        state_not: unavailable
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        grid-template-columns: 45% 55%
        margin: "-4px -4px -20px -4px;"
      cards:
        - type: custom:mushroom-template-card
          primary: Carbon monoxide (CO)
          secondary: "{{states('sensor.carbon_monoxide_co_wesel')}} AQI"
          icon: mdi:skull-outline
          entity: sensor.carbon_monoxide_co_wesel
          icon_color: >-
            {% from 'aqi.jinja' import aqi_icon_color %}
            {{ aqi_icon_color('sensor.carbon_monoxide_co_wesel') }}
          tap_action:
            action: more-info
          fill_container: true
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: solid 0px ;
              }
        - type: custom:bar-card
          name: " "
          height: 42px
          min: "0"
          max: "500"
          decimal: "4"
          severity:
            - from: "0"
              to: "50"
              color: green
            - from: "50.0001"
              to: "100"
              color: yellow
            - from: "100.0001"
              to: "150"
              color: orange
            - from: "150.0001"
              to: "200"
              color: red
            - from: "200.0001"
              to: "300"
              color: purple
            - from: "300.0001"
              to: "500"
              color: "#7e0023"
          entity_row: true
          positions:
            icon: "off"
            indicator: "off"
            value: "off"
          entities:
            - entity: sensor.carbon_monoxide_co_wesel
          color: grey
          card_mod:
            style: |
              ha-card {
                padding: 12px;
                margin-left: 12px;
                --bar-card-border-radius: 12px;
              }
              bar-card-backgroundbar {
                opacity: 0.2;
                filter: brightness(1);
              }
  - type: conditional
    conditions:
      - entity: sensor.sulphur_dioxide_so2_wesel
        state_not: unavailable
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        grid-template-columns: 45% 55%
        margin: "-4px -4px -20px -4px;"
      cards:
        - type: custom:mushroom-template-card
          primary: Sulphur dioxide (SO2)
          secondary: "{{states('sensor.sulphur_dioxide_so2_wesel')}} AQI"
          icon: mdi:smog
          entity: sensor.sulphur_dioxide_so2_wesel
          icon_color: >-
            {% from 'aqi.jinja' import aqi_icon_color %}
            {{ aqi_icon_color('sensor.sulphur_dioxide_so2_wesel') }}
          tap_action:
            action: more-info
          fill_container: true
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: solid 0px ;
              }
        - type: custom:bar-card
          name: " "
          height: 42px
          min: "0"
          max: "500"
          decimal: "4"
          severity:
            - from: "0"
              to: "50"
              color: green
            - from: "50.0001"
              to: "100"
              color: yellow
            - from: "100.0001"
              to: "150"
              color: orange
            - from: "150.0001"
              to: "200"
              color: red
            - from: "200.0001"
              to: "300"
              color: purple
            - from: "300.0001"
              to: "500"
              color: "#7e0023"
          entity_row: true
          positions:
            icon: "off"
            indicator: "off"
            value: "off"
          entities:
            - entity: sensor.sulphur_dioxide_so2_wesel
          color: grey
          card_mod:
            style: |
              ha-card {
                padding: 12px;
                margin-left: 12px;
                --bar-card-border-radius: 12px;
              }
              bar-card-backgroundbar {
                opacity: 0.2;
                filter: brightness(1);
              }
  - type: conditional
    conditions:
      - entity: sensor.nitrogen_dioxide_no2_wesel
        state_not: unavailable
    card:
      type: custom:layout-card
      layout_type: custom:grid-layout
      layout:
        grid-template-columns: 45% 55%
        margin: "-4px -4px -20px -4px;"
      cards:
        - type: custom:mushroom-template-card
          primary: Nitrogen dioxide (NO2)
          secondary: "{{states('sensor.nitrogen_dioxide_no2_wesel')}} AQI"
          icon: mdi:smog
          entity: sensor.nitrogen_dioxide_no2_wesel
          icon_color: >-
            {% from 'aqi.jinja' import aqi_icon_color %}
            {{ aqi_icon_color('sensor.nitrogen_dioxide_no2_wesel') }}
          tap_action:
            action: more-info
          fill_container: true
          card_mod:
            style: |
              ha-card {
                box-shadow: none;
                border: solid 0px ;
              }
        - type: custom:bar-card
          name: " "
          height: 42px
          min: "0"
          max: "500"
          decimal: "4"
          severity:
            - from: "0"
              to: "50"
              color: green
            - from: "50.0001"
              to: "100"
              color: yellow
            - from: "100.0001"
              to: "150"
              color: orange
            - from: "150.0001"
              to: "200"
              color: red
            - from: "200.0001"
              to: "300"
              color: purple
            - from: "300.0001"
              to: "500"
              color: "#7e0023"
          entity_row: true
          positions:
            icon: "off"
            indicator: "off"
            value: "off"
          entities:
            - entity: sensor.nitrogen_dioxide_no2_wesel
          color: grey
          card_mod:
            style: |
              ha-card {
                padding: 12px;
                margin-left: 12px;
                --bar-card-border-radius: 12px;
              }
              bar-card-backgroundbar {
                opacity: 0.2;
                filter: brightness(1);
              }
card_mod:
  style: |
    ha-card {
      padding-bottom: 12px !important;
    }
