type: custom:layout-card
layout_type: custom:grid-layout
cards:
  - type: custom:vertical-stack-in-card
    cards:
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-template-card
            primary: ""
            icon: mdi:trash-can-outline
            icon_color: grey
            entity: sensor.event_day_restmuell
            tap_action:
              action: more-info
            secondary: "{{ states('sensor.event_day_restmuell') }} d"
            badge_icon: >-
              {% set calevent = states('sensor.event_day_restmuell') %}
              {% if calevent == 0 %} mdi:calendar-alert
              {% elif calevent == 1 %} mdi:calendar
              {% elif calevent == 2 %} mdi:calendar-week
              {% elif calevent == 3 %} mdi:calendar-week
              {% elif calevent == 4 %} mdi:calendar-week
              {% else %} none
              {% endif %}
            badge_color: >-
              {% set calevent = states('sensor.event_day_restmuell') %}
              {% if calevent == 0 %} red
              {% elif calevent == 1 %} orange
              {% elif calevent == 2 %} grey
              {% elif calevent == 3 %} grey
              {% elif calevent == 4 %} grey
              {% else %} none
              {% endif %}
            card_mod: !include /config/dashboards/100-raeume/templates/mushroom-card-mod-border-style.yaml
          - type: custom:mushroom-template-card
            primary: ""
            icon: mdi:trash-can-outline
            icon_color: blue
            entity: sensor.event_day_papier
            tap_action:
              action: more-info
            secondary: "{{ states('sensor.event_day_papier') }} d"
            badge_icon: >-
              {% set calevent = states('sensor.event_day_papier')|int %}
              {% if calevent == 0 %} mdi:calendar-alert
              {% elif calevent == 1 %} mdi:calendar
              {% elif calevent == 2 %} mdi:calendar-week
              {% elif calevent == 3 %} mdi:calendar-week
              {% elif calevent == 4 %} mdi:calendar-week
              {% else %} none
              {% endif %}
            badge_color: >-
              {% set calevent = states('sensor.event_day_papier') %}
              {% if calevent == 0 %} red
              {% elif calevent == 1 %} orange
              {% elif calevent == 2 %} grey
              {% elif calevent == 3 %} grey
              {% elif calevent == 4 %} grey
              {% else %} none
              {% endif %}
            card_mod: !include /config/dashboards/100-raeume/templates/mushroom-card-mod-border-style.yaml
        card_mod:
          style: |
            ha-card {    
              height: 160px;
              border-style: none !important;
              --mush-spacing: 6px;
            }
      - type: horizontal-stack
        cards:
          - type: custom:mushroom-template-card
            primary: ""
            icon: mdi:trash-can-outline
            icon_color: yellow
            entity: sensor.event_day_gelber_sack
            tap_action:
              action: more-info
            secondary: "{{ states('sensor.event_day_gelber_sack') }} d"
            badge_icon: >-
              {% set calevent = states('sensor.event_day_gelber_sack')%}
              {% if calevent == 0 %} mdi:calendar-alert
              {% elif calevent == 1 %} mdi:calendar
              {% elif calevent == 2 %} mdi:calendar-week
              {% elif calevent == 3 %} mdi:calendar-week
              {% elif calevent == 4 %} mdi:calendar-week
              {% else %} none
              {% endif %}
            badge_color: >-
              {% if calevent == 0 %} red
              {% elif calevent == 1 %} orange
              {% elif calevent == 2 %} grey
              {% elif calevent == 3 %} grey
              {% elif calevent == 4 %} grey
              {% else %} none
              {% endif %}
            card_mod: !include /config/dashboards/100-raeume/templates/mushroom-card-mod-border-style.yaml
          - type: custom:mushroom-template-card
            primary: ""
            icon: mdi:trash-can-outline
            icon_color: red
            entity: sensor.event_day_schadstoffe
            tap_action:
              action: more-info
            secondary: "{{ states('sensor.event_day_schadstoffe') }} d"
            badge_icon: >-
              {% set calevent = states('sensor.event_day_schadstoffe') %}
              {% if calevent == 0 %} mdi:calendar-alert
              {% elif calevent == 1 %} mdi:calendar
              {% elif calevent == 2 %} mdi:calendar-week
              {% elif calevent == 3 %} mdi:calendar-week
              {% elif calevent == 4 %} mdi:calendar-week
              {% else %} none
              {% endif %}
            badge_color: >-
              {% set calevent = states('sensor.event_day_schadstoffe') %}
              {% if calevent == 0 %} red
              {% elif calevent == 1 %} orange
              {% elif calevent == 2 %} grey
              {% elif calevent == 3 %} grey
              {% elif calevent == 4 %} grey
              {% else %} none
              {% endif %}
            card_mod: !include /config/dashboards/100-raeume/templates/mushroom-card-mod-border-style.yaml
      - type: custom:mushroom-template-card
        primary: ""
        icon: mdi:trash-can-outline
        icon_color: green
        entity: sensor.event_day_biomuell
        tap_action:
          action: more-info
        secondary: "{{ states('sensor.event_day_biomuell') }} d"
        badge_icon: >-
          {% set calevent = states('sensor.event_day_biomuell') %}
          {% if calevent == 0 %} mdi:calendar-alert
          {% elif calevent == 1 %} mdi:calendar
          {% elif calevent == 2 %} mdi:calendar-week
          {% elif calevent == 3 %} mdi:calendar-week
          {% elif calevent == 4 %} mdi:calendar-week
          {% else %} none
          {% endif %}
        badge_color: >-
          {% set calevent = states('sensor.event_day_biomuell') %}
          {% if calevent == 0 %} red
          {% elif calevent == 1 %} orange
          {% elif calevent == 2 %} grey
          {% elif calevent == 3 %} grey
          {% elif calevent == 4 %} grey
          {% else %} none
          {% endif %}
        card_mod: !include /config/dashboards/100-raeume/templates/mushroom-card-mod-border-style.yaml
    card_mod:
      style: |
        ha-card {    
          height: 160px;
          border-style: none !important;
          --mush-spacing: 6px;
        }
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mushroom-template-card
        primary: Lufttemp. (Teich)
        icon: mdi:thermometer
        entity: sensor.310_garten_wetter_luft_temperatur_ds18b20
        secondary: >-
          {{ states('sensor.310_garten_wetter_luft_temperatur_ds18b20')
          }} °C
        tap_action:
          action: more-info
        icon_color: >-
          {% set state =
          states('sensor.310_garten_wetter_luft_temperatur_ds18b20') |
          float %}


          {% if state < 0 %} yellow

          {% elif state >= 0 %} green

          {% else %} grey

          {% endif %}
      - type: custom:mushroom-template-card
        primary: Luftfeuchte (Teich)
        icon: mdi:water-percent
        entity: sensor.teich_1_humidity_bme280
        secondary: "{{ states('sensor.310_garten_wetter_humidity_bme280') }} %"
        tap_action:
          action: more-info
        icon_color: blue
      - type: custom:mushroom-template-card
        primary: Luftdruck (Teich)
        icon: mdi:gauge
        entity: sensor.teich_1_pressure_bme280
        secondary: "{{ states('sensor.310_garten_wetter_pressure_bme280') }} hPa"
        tap_action:
          action: more-info
        icon_color: blue
    card_mod:
      style: |
        ha-card {    
          height: 160px;
          --mush-spacing: 6px;
        }
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mushroom-template-card
        primary: Wassertemp. (Teich)
        icon: mdi:thermometer
        entity: sensor.teich_1_wasser_temperatur
        secondary: "{{ states('sensor.310_garten_wetter_wasser_temperatur') }} °C"
        tap_action:
          action: more-info
        icon_color: blue
      - type: custom:mushroom-template-card
        primary: pH (Teich)
        icon: mdi:ph
        entity: sensor.teich_1_ph
        secondary: "{{ states('sensor.310_garten_wetter_ph') }} pH"
        tap_action:
          action: more-info
        icon_color: blue
      - type: custom:mushroom-template-card
        primary: pH-Voltage (Teich)
        icon: mdi:flash
        entity: sensor.teich_1_ph_voltage
        secondary: "{{ states('sensor.310_garten_wetter_ph_voltage') }} V"
        tap_action:
          action: more-info
        icon_color: blue
    card_mod:
      style: |
        ha-card {    
          height: 160px;
          --mush-spacing: 6px;
        }
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mushroom-template-card
        primary: "{{ states('sensor.pressure_raesfeld_ka') | round(0) }} hPa"
        icon: mdi:gauge
        entity: sensor.pressure_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              margin-top: 10px;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "{{ states('sensor.humidity_raesfeld_ka') }} %"
        icon: mdi:water-percent
        entity: sensor.humidity_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: >-
          Min/Max: {{ state_attr('weather.dwd_weather_raesfeld_ka',
          'forecast')[0]['templow'] }}/{{
          state_attr('weather.dwd_weather_raesfeld_ka',
          'forecast')[0]['temperature'] }} °C
        icon: mdi:thermometer
        entity: sensor.temperature_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "Taupunkt: {{ states('sensor.dewpoint_raesfeld_ka') }} °C"
        icon: mdi:thermometer-water
        entity: sensor.dewpoint_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "{{ states('sensor.fog_probability_raesfeld_ka') }} %"
        icon: mdi:weather-fog
        entity: sensor.fog_probability_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "{{ states('sensor.visibility_raesfeld_ka') }} km"
        icon: mdi:eye
        entity: sensor.visibility_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
    card_mod:
      style: |
        ha-card {
          height: 160px;
          --mush-spacing: 2px 10px 0px 2px !important;
        }
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mushroom-template-card
        primary: "{{ states('sensor.precipitation_duration_raesfeld_ka') }} s/h"
        icon: mdi:weather-rainy
        entity: sensor.precipitation_duration_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              margin-top: 10px;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "{{ states('sensor.precipitation_probability_raesfeld_ka') }} %"
        icon: mdi:weather-rainy
        entity: sensor.precipitation_probability_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "{{ states('sensor.precipitation_raesfeld_ka') }} kg/m^2"
        icon: mdi:weather-rainy
        entity: sensor.precipitation_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: >-
          {% set state = states('sensor.precipitation_raesfeld_ka') |
          float %}


          {% if state < 15 %} green

          {% elif state < 25 %} yellow

          {% elif state < 30 %} orange

          {% elif state < 40 %} red

          {% elif state >= 40 %} purple

          {% else %} grey

          {% endif %}
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: >-
          {% set direction =
          ['N','NNE','NE','ENE','E','ESE','SE','SSE','S','SSW','SW','WSW','W','WNW','NW','NNW','N']
          %} {% set degree =
          states('sensor.wind_direction_raesfeld_ka')|float %}

          {{ direction[((degree+11.25)/22.5)|int] }} {{
          states('sensor.wind_speed_raesfeld_ka') }} km/h (Böen: {{
          states('sensor.wind_gusts_raesfeld_ka') }} km/h)
        icon: mdi:weather-windy
        entity: sensor.wind_speed_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: >-
          {% set state = states('sensor.wind_gusts_raesfeld_ka') | float
          %}


          {% if state <= 50 %} green

          {% elif state <= 65 %} yellow

          {% elif state <= 105 %} orange

          {% elif state <= 140 %} red

          {% elif state > 140 %} purple

          {% else %} grey

          {% endif %}
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: ""
        icon: ""
        entity: ""
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: >-
          DWD Raesfeld: {{ states('sensor.weather_report_raesfeld_ka')
          }}
        icon: mdi:weather-partly-cloudy
        entity: sensor.weather_report_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
    card_mod:
      style: |
        ha-card {
          height: 160px;
          --mush-spacing: 2px 10px 0px 2px !important;
        }
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mushroom-template-card
        primary: "{{ states('sensor.sun_duration_raesfeld_ka') }} s/h"
        icon: mdi:weather-sunset
        entity: sensor.sun_duration_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              margin-top: 10px;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "{{ states('sensor.cloud_coverage_raesfeld_ka') }} %"
        icon: mdi:cloud-percent-outline
        entity: sensor.cloud_coverage_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: ""
        icon: ""
        entity: ""
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: ""
        icon: ""
        entity: ""
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "UVI: {{ states('sensor.current_uv_level') }}"
        icon: mdi:weather-sunny
        entity: sensor.current_uv_level
        secondary: ""
        tap_action:
          action: more-info
        icon_color: |-
          {% set state = states('sensor.current_uv_index') | float %}

          {% if state <= 3 %} green
          {% elif state <= 6 %} yellow
          {% elif state <= 8 %} orange
          {% elif state <= 11 %} red
          {% elif state > 11 %} purple
          {% else %} grey
          {% endif %}
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "O3: {{ states('sensor.current_ozone_level') }} du"
        icon: mdi:weather-sunny
        entity: sensor.current_ozone_level
        secondary: ""
        tap_action:
          action: more-info
        icon_color: |-
          {% set state = states('sensor.current_ozone_level') | float %}

          {% if state < 120 %} '#7e0023'
          {% elif state <= 140 %} purple
          {% elif state <= 160 %} red
          {% elif state <= 180 %} orange
          {% elif state <= 200 %} yellow
          {% elif state > 220 %} green
          {% else %} grey
          {% endif %}
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
    card_mod:
      style: |
        ha-card {
          height: 160px;
          --mush-spacing: 2px 10px 0px 2px !important;
        }
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:circle-sensor-card
        entity: sensor.estimated_illuminance
        max: 5000
        min: 0
        stroke_width: 20
        stroke_color: "#ffcc00"
        gradient: false
        fill: rgba(0,0,0,0.3)
        units: ""
        show_max: false
        font_style:
          color: "#ffcc00"
          font-size: 1em
          text-shadow: none
        style:
          height: 72px
          width: 72px
          top: 8px
          left: 25%
      - type: custom:mushroom-template-card
        primary: "{{ states('sensor.estimated_illuminance') }} lx"
        icon: mdi:weather-sunny-alert
        entity: sensor.estimated_illuminance
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              margin-top: 10px;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "{{ states('sensor.sun_irradiance_raesfeld_ka') }} W/m^2"
        icon: mdi:weather-sunny-alert
        entity: sensor.sun_irradiance_raesfeld_ka
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "{{ states('sensor.energy_current_hour') }} kWh"
        icon: mdi:lightning-bolt
        entity: sensor.energy_current_hour
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
    card_mod:
      style: |
        ha-card {
          height: 160px;
          --mush-spacing: 2px 10px 0px 2px !important;
        }
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mushroom-template-card
        primary: "AQI: {{ states('sensor.air_quality_index_borken') }}"
        icon: mdi:leaf
        entity: sensor.air_quality_index_borken
        secondary: ""
        tap_action:
          action: more-info
        icon_color: >-
          {% set state = states('sensor.air_quality_index_borken') |
          float %}


          {% if state <= 50 %} green

          {% elif state <= 100 %} yellow

          {% elif state <= 150 %} orange

          {% elif state <= 200 %} red

          {% elif state <= 300 %} purple

          {% elif state > 300 %} '#7e0023'

          {% else %} grey

          {% endif %}
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              margin-top: 10px;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: >-
          PM2.5: {{ states('sensor.particulate_matter_pm25_borken') }}
          AQI
        icon: mdi:skull-outline
        entity: sensor.particulate_matter_pm25_borken
        secondary: ""
        tap_action:
          action: more-info
        icon_color: >-
          {% set state = states('sensor.particulate_matter_pm25_borken')
          | float %}


          {% if state <= 50 %} green

          {% elif state <= 100 %} yellow

          {% elif state <= 150 %} orange

          {% elif state <= 200 %} red

          {% elif state <= 300 %} purple

          {% elif state > 300 %} '#7e0023'

          {% else %} grey

          {% endif %}
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: >-
          PM10: {{ states('sensor.particulate_matter_pm10_borken') }}
          AQI
        icon: mdi:skull-outline
        entity: sensor.particulate_matter_pm10_borken
        secondary: ""
        tap_action:
          action: more-info
        icon_color: >-
          {% set state = states('sensor.particulate_matter_pm10_borken')
          | float %}


          {% if state <= 50 %} green

          {% elif state <= 100 %} yellow

          {% elif state <= 150 %} orange

          {% elif state <= 200 %} red

          {% elif state <= 300 %} purple

          {% elif state > 300 %} '#7e0023'

          {% else %} grey

          {% endif %}
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: ""
        icon: ""
        entity: ""
        secondary: ""
        tap_action:
          action: more-info
        icon_color: blue
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "O3: {{ states('sensor.ozone_o3_borken') }} AQI"
        icon: mdi:skull-outline
        entity: sensor.ozone_o3_borken
        secondary: ""
        tap_action:
          action: more-info
        icon_color: |-
          {% set state = states('sensor.ozone_o3_borken') | float %}

          {% if state <= 50 %} green
          {% elif state <= 100 %} yellow
          {% elif state <= 150 %} orange
          {% elif state <= 200 %} red
          {% elif state <= 300 %} purple
          {% elif state > 300 %} '#7e0023'
          {% else %} grey
          {% endif %}
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
      - type: custom:mushroom-template-card
        primary: "NO2: {{ states('sensor.nitrogen_dioxide_no2_borken') }} AQI"
        icon: mdi:smog
        entity: sensor.nitrogen_dioxide_no2_borken
        secondary: ""
        tap_action:
          action: more-info
        icon_color: >-
          {% set state = states('sensor.nitrogen_dioxide_no2_borken') |
          float %}


          {% if state <= 50 %} green

          {% elif state <= 100 %} yellow

          {% elif state <= 150 %} orange

          {% elif state <= 200 %} red

          {% elif state <= 300 %} purple

          {% elif state > 300 %} '#7e0023'

          {% else %} grey

          {% endif %}
        card_mod:
          style: |
            ha-card {
              height: 1.7em !important;
              --card-primary-font-size: var(--mush-card-primary-font-size, 12px);
              --card-primary-font-weight: var(--mush-card-primary-font-weight, none);
            }
            mushroom-shape-icon {
              --shape-color: none !important;
            }
    card_mod:
      style: |
        ha-card {
          height: 160px;
          --mush-spacing: 2px 10px 0px 2px !important;
        }
layout:
  grid-template-columns: 190px 160px 160px 140px 140px 140px 140px 140px
  margin: 0px;
  padding: 0px;
