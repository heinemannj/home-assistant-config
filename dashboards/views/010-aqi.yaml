title: 010_AQI
theme: Backend-selected
path: 010-aqi
icon: mdi:leaf
badges: []
cards:
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mushroom-title-card
        title: Air Quality
        subtitle: Borken Gemen, Germany
      - type: gauge
        entity: sensor.air_quality_index_borken
        name: AQI
        unit: ""
        needle: true
        min: 0
        max: 500
        segments:
          - from: 0
            color: green
          - from: 51
            color: yellow
          - from: 101
            color: orange
          - from: 151
            color: red
          - from: 201
            color: purple
          - from: 301
            color: maroon
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 45% 55%
          margin: "-4px -4px -20px -4px;"
        cards:
          - type: custom:mushroom-template-card
            primary: >-
              {% set state = states('sensor.air_quality_index_borken') |
              float %}

              {% if state <= 50 %} AQI - Good

              {% elif state <= 100 %} AQI - Moderate

              {% elif state <= 150 %} AQI - Unhealthy for Sensitive Groups

              {% elif state <= 200 %} AQI - Unhealthy

              {% elif state <= 300 %} AQI - Very Unhealthy

              {% elif state > 300 %} AQI - Hazardous

              {% endif %}
            secondary: "{{states('sensor.air_quality_index_borken')}}"
            icon: mdi:leaf
            entity: sensor.air_quality_index_borken
            icon_color: >-
              {% set state = states('sensor.air_quality_index_borken') |
              float %}


              {% if state <= 50 %} green

              {% elif state <= 100 %} yellow

              {% elif state <= 150 %} orange

              {% elif state <= 200 %} red

              {% elif state <= 300 %} purple

              {% elif state > 300 %} '#7e0023'

              {% else %} grey

              {% endif %}
            tap_action:
              action: more-info
            card_mod:
              style: |
                ha-card {
                  box-shadow: none;
                  border: solid 0px ;
                }
          - type: custom:bar-card
            name: " "
            height: 42px
            min: "0"
            max: "500"
            decimal: "4"
            severity:
              - from: "0"
                to: "50"
                color: green
              - from: "50.0001"
                to: "100"
                color: yellow
              - from: "100.0001"
                to: "150"
                color: orange
              - from: "150.0001"
                to: "200"
                color: red
              - from: "200.0001"
                to: "300"
                color: purple
              - from: "300.0001"
                to: "500"
                color: "#7e0023"
            entity_row: true
            positions:
              icon: "off"
              indicator: "off"
              value: "off"
            entities:
              - entity: sensor.air_quality_index_borken
            color: grey
            card_mod:
              style: |
                ha-card {
                  padding: 12px;
                  margin-left: 12px;
                  --bar-card-border-radius: 12px;
                }
                bar-card-backgroundbar {
                  opacity: 0.2;
                  filter: brightness(1);
                }
      - type: conditional
        conditions:
          - entity: sensor.ozone_o3_borken
            state_not: unavailable
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: 45% 55%
            margin: "-4px -4px -20px -4px;"
          cards:
            - type: custom:mushroom-template-card
              primary: Ozone (O3)
              secondary: "{{states('sensor.ozone_o3_borken')}} AQI"
              icon: mdi:skull-outline
              entity: sensor.ozone_o3_borken
              icon_color: |
                {% set state = states('sensor.ozone_o3_borken') | float %}

                {% if state <= 50 %} green
                {% elif state <= 100 %} yellow
                {% elif state <= 150 %} orange
                {% elif state <= 200 %} red
                {% elif state <= 300 %} purple
                {% elif state > 300 %} '#7e0023'
                {% else %} grey
                {% endif %}
              tap_action:
                action: more-info
              fill_container: true
              card_mod:
                style: |
                  ha-card {
                    box-shadow: none;
                    border: solid 0px ;
                  }
            - type: custom:bar-card
              name: " "
              height: 42px
              min: "0"
              max: "500"
              decimal: "4"
              severity:
                - from: "0"
                  to: "50"
                  color: green
                - from: "50.0001"
                  to: "100"
                  color: yellow
                - from: "100.0001"
                  to: "150"
                  color: orange
                - from: "150.0001"
                  to: "200"
                  color: red
                - from: "200.0001"
                  to: "300"
                  color: purple
                - from: "300.0001"
                  to: "500"
                  color: "#7e0023"
              entity_row: true
              positions:
                icon: "off"
                indicator: "off"
                value: "off"
              entities:
                - entity: sensor.ozone_o3_borken
              color: grey
              card_mod:
                style: |
                  ha-card {
                    padding: 12px;
                    margin-left: 12px;
                    --bar-card-border-radius: 12px;
                  }
                  bar-card-backgroundbar {
                    opacity: 0.2;
                    filter: brightness(1);
                  }
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 45% 55%
          margin: "-4px -4px -20px -4px;"
        cards:
          - type: custom:mushroom-template-card
            primary: PM2.5
            secondary: "{{states('sensor.particulate_matter_pm25_borken')}} AQI"
            icon: mdi:skull-outline
            entity: sensor.particulate_matter_pm25_borken
            icon_color: >-
              {% set state = states('sensor.particulate_matter_pm25_borken')
              | float %}


              {% if state <= 50 %} green

              {% elif state <= 100 %} yellow

              {% elif state <= 150 %} orange

              {% elif state <= 200 %} red

              {% elif state <= 300 %} purple

              {% elif state > 300 %} '#7e0023'

              {% else %} grey

              {% endif %}
            tap_action:
              action: more-info
            fill_container: true
            card_mod:
              style: |
                ha-card {
                  box-shadow: none;
                  border: solid 0px ;
                }
          - type: custom:bar-card
            name: " "
            height: 42px
            min: "0"
            max: "500"
            decimal: "4"
            severity:
              - from: "0"
                to: "50"
                color: green
              - from: "50.0001"
                to: "100"
                color: yellow
              - from: "100.0001"
                to: "150"
                color: orange
              - from: "150.0001"
                to: "200"
                color: red
              - from: "200.0001"
                to: "300"
                color: purple
              - from: "300.0001"
                to: "500"
                color: "#7e0023"
            entity_row: true
            positions:
              icon: "off"
              indicator: "off"
              value: "off"
            entities:
              - entity: sensor.particulate_matter_pm25_borken
            color: grey
            card_mod:
              style: |
                ha-card {
                  padding: 12px;
                  margin-left: 12px;
                  --bar-card-border-radius: 12px;
                }
                bar-card-backgroundbar {
                  opacity: 0.2;
                  filter: brightness(1);
                }
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 45% 55%
          margin: "-4px -4px -20px -4px;"
        cards:
          - type: custom:mushroom-template-card
            primary: PM10
            secondary: "{{states('sensor.particulate_matter_pm10_borken')}} AQI"
            icon: mdi:skull-outline
            entity: sensor.particulate_matter_pm10_borken
            icon_color: >-
              {% set state = states('sensor.particulate_matter_pm10_borken')
              | float %}


              {% if state <= 50 %} green

              {% elif state <= 100 %} yellow

              {% elif state <= 150 %} orange

              {% elif state <= 200 %} red

              {% elif state <= 300 %} purple

              {% elif state > 300 %} '#7e0023'

              {% else %} grey

              {% endif %}
            tap_action:
              action: more-info
            fill_container: true
            card_mod:
              style: |
                ha-card {
                  box-shadow: none;
                  border: solid 0px ;
                }
          - type: custom:bar-card
            name: " "
            height: 42px
            min: "0"
            max: "500"
            decimal: "4"
            severity:
              - from: "0"
                to: "50"
                color: green
              - from: "50.0001"
                to: "100"
                color: yellow
              - from: "100.0001"
                to: "150"
                color: orange
              - from: "150.0001"
                to: "200"
                color: red
              - from: "200.0001"
                to: "300"
                color: purple
              - from: "300.0001"
                to: "500"
                color: "#7e0023"
            entity_row: true
            positions:
              icon: "off"
              indicator: "off"
              value: "off"
            entities:
              - entity: sensor.particulate_matter_pm10_borken
            color: grey
            card_mod:
              style: |
                ha-card {
                  padding: 12px;
                  margin-left: 12px;
                  --bar-card-border-radius: 12px;
                }
                bar-card-backgroundbar {
                  opacity: 0.2;
                  filter: brightness(1);
                }
      - type: conditional
        conditions:
          - entity: sensor.carbon_monoxide_co_borken
            state_not: unavailable
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: 45% 55%
            margin: "-4px -4px -20px -4px;"
          cards:
            - type: custom:mushroom-template-card
              primary: Carbon monoxide (CO)
              secondary: "{{states('sensor.carbon_monoxide_co_borken')}} AQI"
              icon: mdi:skull-outline
              entity: sensor.carbon_monoxide_co_borken
              icon_color: >-
                {% set state = states('sensor.carbon_monoxide_co_borken') |
                float %}


                {% if state <= 50 %} green

                {% elif state <= 100 %} yellow

                {% elif state <= 150 %} orange

                {% elif state <= 200 %} red

                {% elif state <= 300 %} purple

                {% elif state > 300 %} '#7e0023'

                {% else %} grey

                {% endif %}
              tap_action:
                action: more-info
              fill_container: true
              card_mod:
                style: |
                  ha-card {
                    box-shadow: none;
                    border: solid 0px ;
                  }
            - type: custom:bar-card
              name: " "
              height: 42px
              min: "0"
              max: "500"
              decimal: "4"
              severity:
                - from: "0"
                  to: "50"
                  color: green
                - from: "50.0001"
                  to: "100"
                  color: yellow
                - from: "100.0001"
                  to: "150"
                  color: orange
                - from: "150.0001"
                  to: "200"
                  color: red
                - from: "200.0001"
                  to: "300"
                  color: purple
                - from: "300.0001"
                  to: "500"
                  color: "#7e0023"
              entity_row: true
              positions:
                icon: "off"
                indicator: "off"
                value: "off"
              entities:
                - entity: sensor.carbon_monoxide_co_borken
              color: grey
              card_mod:
                style: |
                  ha-card {
                    padding: 12px;
                    margin-left: 12px;
                    --bar-card-border-radius: 12px;
                  }
                  bar-card-backgroundbar {
                    opacity: 0.2;
                    filter: brightness(1);
                  }
      - type: conditional
        conditions:
          - entity: sensor.sulphur_dioxide_so2_borken
            state_not: unavailable
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: 45% 55%
            margin: "-4px -4px -20px -4px;"
          cards:
            - type: custom:mushroom-template-card
              primary: Sulphur dioxide (SO2)
              secondary: "{{states('sensor.sulphur_dioxide_so2_borken')}} AQI"
              icon: mdi:smog
              entity: sensor.sulphur_dioxide_so2_borken
              icon_color: >
                {% set state = states('sensor.sulphur_dioxide_so2_borken') |
                float %}


                {% if state <= 50 %} green

                {% elif state <= 100 %} yellow

                {% elif state <= 150 %} orange

                {% elif state <= 200 %} red

                {% elif state <= 300 %} purple

                {% elif state > 300 %} '#7e0023'

                {% else %} grey

                {% endif %}}
              tap_action:
                action: more-info
              fill_container: true
              card_mod:
                style: |
                  ha-card {
                    box-shadow: none;
                    border: solid 0px ;
                  }
            - type: custom:bar-card
              name: " "
              height: 42px
              min: "0"
              max: "500"
              decimal: "4"
              severity:
                - from: "0"
                  to: "50"
                  color: green
                - from: "50.0001"
                  to: "100"
                  color: yellow
                - from: "100.0001"
                  to: "150"
                  color: orange
                - from: "150.0001"
                  to: "200"
                  color: red
                - from: "200.0001"
                  to: "300"
                  color: purple
                - from: "300.0001"
                  to: "500"
                  color: "#7e0023"
              entity_row: true
              positions:
                icon: "off"
                indicator: "off"
                value: "off"
              entities:
                - entity: sensor.sulphur_dioxide_so2_borken
              color: grey
              card_mod:
                style: |
                  ha-card {
                    padding: 12px;
                    margin-left: 12px;
                    --bar-card-border-radius: 12px;
                  }
                  bar-card-backgroundbar {
                    opacity: 0.2;
                    filter: brightness(1);
                  }
      - type: conditional
        conditions:
          - entity: sensor.nitrogen_dioxide_no2_borken
            state_not: unavailable
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: 45% 55%
            margin: "-4px -4px -20px -4px;"
          cards:
            - type: custom:mushroom-template-card
              primary: Nitrogen dioxide (NO2)
              secondary: "{{states('sensor.nitrogen_dioxide_no2_borken')}} AQI"
              icon: mdi:smog
              entity: sensor.nitrogen_dioxide_no2_borken
              icon_color: >
                {% set state = states('sensor.nitrogen_dioxide_no2_borken')
                | float %}


                {% if state <= 50 %} green

                {% elif state <= 100 %} yellow

                {% elif state <= 150 %} orange

                {% elif state <= 200 %} red

                {% elif state <= 300 %} purple

                {% elif state > 300 %} '#7e0023'

                {% else %} grey

                {% endif %}
              tap_action:
                action: more-info
              fill_container: true
              card_mod:
                style: |
                  ha-card {
                    box-shadow: none;
                    border: solid 0px ;
                  }
            - type: custom:bar-card
              name: " "
              height: 42px
              min: "0"
              max: "500"
              decimal: "4"
              severity:
                - from: "0"
                  to: "50"
                  color: green
                - from: "50.0001"
                  to: "100"
                  color: yellow
                - from: "100.0001"
                  to: "150"
                  color: orange
                - from: "150.0001"
                  to: "200"
                  color: red
                - from: "200.0001"
                  to: "300"
                  color: purple
                - from: "300.0001"
                  to: "500"
                  color: "#7e0023"
              entity_row: true
              positions:
                icon: "off"
                indicator: "off"
                value: "off"
              entities:
                - entity: sensor.nitrogen_dioxide_no2_borken
              color: grey
              card_mod:
                style: |
                  ha-card {
                    padding: 12px;
                    margin-left: 12px;
                    --bar-card-border-radius: 12px;
                  }
                  bar-card-backgroundbar {
                    opacity: 0.2;
                    filter: brightness(1);
                  }
      - type: custom:mushroom-title-card
        title: ""
        subtitle: Schermbeck, Germany
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 45% 55%
          margin: "-4px -4px -20px -4px;"
        cards:
          - type: custom:mushroom-template-card
            primary: >-
              {% set state = states('sensor.air_quality_index_schermbeck') |
              float %}

              {% if state <= 50 %} AQI - Good

              {% elif state <= 100 %} AQI - Moderate

              {% elif state <= 150 %} AQI - Unhealthy for Sensitive Groups

              {% elif state <= 200 %} AQI - Unhealthy

              {% elif state <= 300 %} AQI - Very Unhealthy

              {% elif state > 300 %} AQI - Hazardous

              {% endif %}
            secondary: "{{states('sensor.air_quality_index_schermbeck')}}"
            icon: mdi:leaf
            entity: sensor.air_quality_index_schermbeck
            icon_color: >-
              {% set state = states('sensor.air_quality_index_schermbeck') |
              float %}


              {% if state <= 50 %} green

              {% elif state <= 100 %} yellow

              {% elif state <= 150 %} orange

              {% elif state <= 200 %} red

              {% elif state <= 300 %} purple

              {% elif state > 300 %} '#7e0023'

              {% else %} grey

              {% endif %}
            tap_action:
              action: more-info
            card_mod:
              style: |
                ha-card {
                  box-shadow: none;
                  border: solid 0px ;
                }
          - type: custom:bar-card
            name: " "
            height: 42px
            min: "0"
            max: "500"
            decimal: "4"
            severity:
              - from: "0"
                to: "50"
                color: green
              - from: "50.0001"
                to: "100"
                color: yellow
              - from: "100.0001"
                to: "150"
                color: orange
              - from: "150.0001"
                to: "200"
                color: red
              - from: "200.0001"
                to: "300"
                color: purple
              - from: "300.0001"
                to: "500"
                color: "#7e0023"
            entity_row: true
            positions:
              icon: "off"
              indicator: "off"
              value: "off"
            entities:
              - entity: sensor.air_quality_index_schermbeck
            color: grey
            card_mod:
              style: |
                ha-card {
                  padding: 12px;
                  margin-left: 12px;
                  --bar-card-border-radius: 12px;
                }
                bar-card-backgroundbar {
                  opacity: 0.2;
                  filter: brightness(1);
                }
      - type: conditional
        conditions:
          - entity: sensor.ozone_o3_schermbeck
            state_not: unavailable
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: 45% 55%
            margin: "-4px -4px -20px -4px;"
          cards:
            - type: custom:mushroom-template-card
              primary: Ozone (O3)
              secondary: "{{states('sensor.ozone_o3_schermbeck')}} AQI"
              icon: mdi:skull-outline
              entity: sensor.ozone_o3_schermbeck
              icon_color: >
                {% set state = states('sensor.ozone_o3_schermbeck') | float
                %}


                {% if state <= 50 %} green

                {% elif state <= 100 %} yellow

                {% elif state <= 150 %} orange

                {% elif state <= 200 %} red

                {% elif state <= 300 %} purple

                {% elif state > 300 %} '#7e0023'

                {% else %} grey

                {% endif %}
              tap_action:
                action: more-info
              fill_container: true
              card_mod:
                style: |
                  ha-card {
                    box-shadow: none;
                    border: solid 0px ;
                  }
            - type: custom:bar-card
              name: " "
              height: 42px
              min: "0"
              max: "500"
              decimal: "4"
              severity:
                - from: "0"
                  to: "50"
                  color: green
                - from: "50.0001"
                  to: "100"
                  color: yellow
                - from: "100.0001"
                  to: "150"
                  color: orange
                - from: "150.0001"
                  to: "200"
                  color: red
                - from: "200.0001"
                  to: "300"
                  color: purple
                - from: "300.0001"
                  to: "500"
                  color: "#7e0023"
              entity_row: true
              positions:
                icon: "off"
                indicator: "off"
                value: "off"
              entities:
                - entity: sensor.ozone_o3_schermbeck
              color: grey
              card_mod:
                style: |
                  ha-card {
                    padding: 12px;
                    margin-left: 12px;
                    --bar-card-border-radius: 12px;
                  }
                  bar-card-backgroundbar {
                    opacity: 0.2;
                    filter: brightness(1);
                  }
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 45% 55%
          margin: "-4px -4px -20px -4px;"
        cards:
          - type: custom:mushroom-template-card
            primary: PM2.5
            secondary: "{{states('sensor.particulate_matter_pm25_schermbeck')}} AQI"
            icon: mdi:skull-outline
            entity: sensor.particulate_matter_pm25_schermbeck
            icon_color: >-
              {% set state =
              states('sensor.particulate_matter_pm25_schermbeck') | float %}


              {% if state <= 50 %} green

              {% elif state <= 100 %} yellow

              {% elif state <= 150 %} orange

              {% elif state <= 200 %} red

              {% elif state <= 300 %} purple

              {% elif state > 300 %} '#7e0023'

              {% else %} grey

              {% endif %}
            tap_action:
              action: more-info
            fill_container: true
            card_mod:
              style: |
                ha-card {
                  box-shadow: none;
                  border: solid 0px ;
                }
          - type: custom:bar-card
            name: " "
            height: 42px
            min: "0"
            max: "500"
            decimal: "4"
            severity:
              - from: "0"
                to: "50"
                color: green
              - from: "50.0001"
                to: "100"
                color: yellow
              - from: "100.0001"
                to: "150"
                color: orange
              - from: "150.0001"
                to: "200"
                color: red
              - from: "200.0001"
                to: "300"
                color: purple
              - from: "300.0001"
                to: "500"
                color: "#7e0023"
            entity_row: true
            positions:
              icon: "off"
              indicator: "off"
              value: "off"
            entities:
              - entity: sensor.particulate_matter_pm25_schermbeck
            color: grey
            card_mod:
              style: |
                ha-card {
                  padding: 12px;
                  margin-left: 12px;
                  --bar-card-border-radius: 12px;
                }
                bar-card-backgroundbar {
                  opacity: 0.2;
                  filter: brightness(1);
                }
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 45% 55%
          margin: "-4px -4px -20px -4px;"
        cards:
          - type: custom:mushroom-template-card
            primary: PM10
            secondary: "{{states('sensor.particulate_matter_pm10_schermbeck')}} AQI"
            icon: mdi:skull-outline
            entity: sensor.particulate_matter_pm10_schermbeck
            icon_color: >-
              {% set state =
              states('sensor.particulate_matter_pm10_schermbeck') | float %}


              {% if state <= 50 %} green

              {% elif state <= 100 %} yellow

              {% elif state <= 150 %} orange

              {% elif state <= 200 %} red

              {% elif state <= 300 %} purple

              {% elif state > 300 %} '#7e0023'

              {% else %} grey

              {% endif %}
            tap_action:
              action: more-info
            fill_container: true
            card_mod:
              style: |
                ha-card {
                  box-shadow: none;
                  border: solid 0px ;
                }
          - type: custom:bar-card
            name: " "
            height: 42px
            min: "0"
            max: "500"
            decimal: "4"
            severity:
              - from: "0"
                to: "50"
                color: green
              - from: "50.0001"
                to: "100"
                color: yellow
              - from: "100.0001"
                to: "150"
                color: orange
              - from: "150.0001"
                to: "200"
                color: red
              - from: "200.0001"
                to: "300"
                color: purple
              - from: "300.0001"
                to: "500"
                color: "#7e0023"
            entity_row: true
            positions:
              icon: "off"
              indicator: "off"
              value: "off"
            entities:
              - entity: sensor.particulate_matter_pm10_schermbeck
            color: grey
            card_mod:
              style: |
                ha-card {
                  padding: 12px;
                  margin-left: 12px;
                  --bar-card-border-radius: 12px;
                }
                bar-card-backgroundbar {
                  opacity: 0.2;
                  filter: brightness(1);
                }
      - type: conditional
        conditions:
          - entity: sensor.carbon_monoxide_co_schermbeck
            state_not: unavailable
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: 45% 55%
            margin: "-4px -4px -20px -4px;"
          cards:
            - type: custom:mushroom-template-card
              primary: Carbon monoxide (CO)
              secondary: "{{states('sensor.carbon_monoxide_co_schermbeck')}} AQI"
              icon: mdi:skull-outline
              entity: sensor.carbon_monoxide_co_schermbeck
              icon_color: >-
                {% set state =
                states('sensor.carbon_monoxide_co_schermbeck') | float %}


                {% if state <= 50 %} green

                {% elif state <= 100 %} yellow

                {% elif state <= 150 %} orange

                {% elif state <= 200 %} red

                {% elif state <= 300 %} purple

                {% elif state > 300 %} '#7e0023'

                {% else %} grey

                {% endif %}
              tap_action:
                action: more-info
              fill_container: true
              card_mod:
                style: |
                  ha-card {
                    box-shadow: none;
                    border: solid 0px ;
                  }
            - type: custom:bar-card
              name: " "
              height: 42px
              min: "0"
              max: "500"
              decimal: "4"
              severity:
                - from: "0"
                  to: "50"
                  color: green
                - from: "50.0001"
                  to: "100"
                  color: yellow
                - from: "100.0001"
                  to: "150"
                  color: orange
                - from: "150.0001"
                  to: "200"
                  color: red
                - from: "200.0001"
                  to: "300"
                  color: purple
                - from: "300.0001"
                  to: "500"
                  color: "#7e0023"
              entity_row: true
              positions:
                icon: "off"
                indicator: "off"
                value: "off"
              entities:
                - entity: sensor.carbon_monoxide_co_schermbeck
              color: grey
              card_mod:
                style: |
                  ha-card {
                    padding: 12px;
                    margin-left: 12px;
                    --bar-card-border-radius: 12px;
                  }
                  bar-card-backgroundbar {
                    opacity: 0.2;
                    filter: brightness(1);
                  }
      - type: conditional
        conditions:
          - entity: sensor.sulphur_dioxide_so2_schermbeck
            state_not: unavailable
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: 45% 55%
            margin: "-4px -4px -20px -4px;"
          cards:
            - type: custom:mushroom-template-card
              primary: Sulphur dioxide (SO2)
              secondary: "{{states('sensor.sulphur_dioxide_so2_schermbeck')}} AQI"
              icon: mdi:smog
              entity: sensor.sulphur_dioxide_so2_schermbeck
              icon_color: >
                {% set state =
                states('sensor.sulphur_dioxide_so2_schermbeck') | float %}


                {% if state <= 50 %} green

                {% elif state <= 100 %} yellow

                {% elif state <= 150 %} orange

                {% elif state <= 200 %} red

                {% elif state <= 300 %} purple

                {% elif state > 300 %} '#7e0023'

                {% else %} grey

                {% endif %}}
              tap_action:
                action: more-info
              fill_container: true
              card_mod:
                style: |
                  ha-card {
                    box-shadow: none;
                    border: solid 0px ;
                  }
            - type: custom:bar-card
              name: " "
              height: 42px
              min: "0"
              max: "500"
              decimal: "4"
              severity:
                - from: "0"
                  to: "50"
                  color: green
                - from: "50.0001"
                  to: "100"
                  color: yellow
                - from: "100.0001"
                  to: "150"
                  color: orange
                - from: "150.0001"
                  to: "200"
                  color: red
                - from: "200.0001"
                  to: "300"
                  color: purple
                - from: "300.0001"
                  to: "500"
                  color: "#7e0023"
              entity_row: true
              positions:
                icon: "off"
                indicator: "off"
                value: "off"
              entities:
                - entity: sensor.sulphur_dioxide_so2_schermbeck
              color: grey
              card_mod:
                style: |
                  ha-card {
                    padding: 12px;
                    margin-left: 12px;
                    --bar-card-border-radius: 12px;
                  }
                  bar-card-backgroundbar {
                    opacity: 0.2;
                    filter: brightness(1);
                  }
      - type: conditional
        conditions:
          - entity: sensor.nitrogen_dioxide_no2_schermbeck
            state_not: unavailable
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: 45% 55%
            margin: "-4px -4px -20px -4px;"
          cards:
            - type: custom:mushroom-template-card
              primary: Nitrogen dioxide (NO2)
              secondary: "{{states('sensor.nitrogen_dioxide_no2_schermbeck')}} AQI"
              icon: mdi:smog
              entity: sensor.nitrogen_dioxide_no2_schermbeck
              icon_color: >
                {% set state =
                states('sensor.nitrogen_dioxide_no2_schermbeck') | float %}


                {% if state <= 50 %} green

                {% elif state <= 100 %} yellow

                {% elif state <= 150 %} orange

                {% elif state <= 200 %} red

                {% elif state <= 300 %} purple

                {% elif state > 300 %} '#7e0023'

                {% else %} grey

                {% endif %}
              tap_action:
                action: more-info
              fill_container: true
              card_mod:
                style: |
                  ha-card {
                    box-shadow: none;
                    border: solid 0px ;
                  }
            - type: custom:bar-card
              name: " "
              height: 42px
              min: "0"
              max: "500"
              decimal: "4"
              severity:
                - from: "0"
                  to: "50"
                  color: green
                - from: "50.0001"
                  to: "100"
                  color: yellow
                - from: "100.0001"
                  to: "150"
                  color: orange
                - from: "150.0001"
                  to: "200"
                  color: red
                - from: "200.0001"
                  to: "300"
                  color: purple
                - from: "300.0001"
                  to: "500"
                  color: "#7e0023"
              entity_row: true
              positions:
                icon: "off"
                indicator: "off"
                value: "off"
              entities:
                - entity: sensor.nitrogen_dioxide_no2_schermbeck
              color: grey
              card_mod:
                style: |
                  ha-card {
                    padding: 12px;
                    margin-left: 12px;
                    --bar-card-border-radius: 12px;
                  }
                  bar-card-backgroundbar {
                    opacity: 0.2;
                    filter: brightness(1);
                  }
      - type: custom:mushroom-title-card
        title: ""
        subtitle: Wesel Obrighoven, Germany
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 45% 55%
          margin: "-4px -4px -20px -4px;"
        cards:
          - type: custom:mushroom-template-card
            primary: >-
              {% set state = states('sensor.air_quality_index_wesel') |
              float %}

              {% if state <= 50 %} AQI - Good

              {% elif state <= 100 %} AQI - Moderate

              {% elif state <= 150 %} AQI - Unhealthy for Sensitive Groups

              {% elif state <= 200 %} AQI - Unhealthy

              {% elif state <= 300 %} AQI - Very Unhealthy

              {% elif state > 300 %} AQI - Hazardous

              {% endif %}
            secondary: "{{states('sensor.air_quality_index_wesel')}}"
            icon: mdi:leaf
            entity: sensor.air_quality_index_wesel
            icon_color: >-
              {% set state = states('sensor.air_quality_index_wesel') |
              float %}


              {% if state <= 50 %} green

              {% elif state <= 100 %} yellow

              {% elif state <= 150 %} orange

              {% elif state <= 200 %} red

              {% elif state <= 300 %} purple

              {% elif state > 300 %} '#7e0023'

              {% else %} grey

              {% endif %}
            tap_action:
              action: more-info
            card_mod:
              style: |
                ha-card {
                  box-shadow: none;
                  border: solid 0px ;
                }
          - type: custom:bar-card
            name: " "
            height: 42px
            min: "0"
            max: "500"
            decimal: "4"
            severity:
              - from: "0"
                to: "50"
                color: green
              - from: "50.0001"
                to: "100"
                color: yellow
              - from: "100.0001"
                to: "150"
                color: orange
              - from: "150.0001"
                to: "200"
                color: red
              - from: "200.0001"
                to: "300"
                color: purple
              - from: "300.0001"
                to: "500"
                color: "#7e0023"
            entity_row: true
            positions:
              icon: "off"
              indicator: "off"
              value: "off"
            entities:
              - entity: sensor.air_quality_index_wesel
            color: grey
            card_mod:
              style: |
                ha-card {
                  padding: 12px;
                  margin-left: 12px;
                  --bar-card-border-radius: 12px;
                }
                bar-card-backgroundbar {
                  opacity: 0.2;
                  filter: brightness(1);
                }
      - type: conditional
        conditions:
          - entity: sensor.ozone_o3_wesel
            state_not: unavailable
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: 45% 55%
            margin: "-4px -4px -20px -4px;"
          cards:
            - type: custom:mushroom-template-card
              primary: Ozone (O3)
              secondary: "{{states('sensor.ozone_o3_wesel')}} AQI"
              icon: mdi:skull-outline
              entity: sensor.ozone_o3_wesel
              icon_color: |
                {% set state = states('sensor.ozone_o3_wesel') | float %}

                {% if state <= 50 %} green
                {% elif state <= 100 %} yellow
                {% elif state <= 150 %} orange
                {% elif state <= 200 %} red
                {% elif state <= 300 %} purple
                {% elif state > 300 %} '#7e0023'
                {% else %} grey
                {% endif %}
              tap_action:
                action: more-info
              fill_container: true
              card_mod:
                style: |
                  ha-card {
                    box-shadow: none;
                    border: solid 0px ;
                  }
            - type: custom:bar-card
              name: " "
              height: 42px
              min: "0"
              max: "500"
              decimal: "4"
              severity:
                - from: "0"
                  to: "50"
                  color: green
                - from: "50.0001"
                  to: "100"
                  color: yellow
                - from: "100.0001"
                  to: "150"
                  color: orange
                - from: "150.0001"
                  to: "200"
                  color: red
                - from: "200.0001"
                  to: "300"
                  color: purple
                - from: "300.0001"
                  to: "500"
                  color: "#7e0023"
              entity_row: true
              positions:
                icon: "off"
                indicator: "off"
                value: "off"
              entities:
                - entity: sensor.ozone_o3_wesel
              color: grey
              card_mod:
                style: |
                  ha-card {
                    padding: 12px;
                    margin-left: 12px;
                    --bar-card-border-radius: 12px;
                  }
                  bar-card-backgroundbar {
                    opacity: 0.2;
                    filter: brightness(1);
                  }
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 45% 55%
          margin: "-4px -4px -20px -4px;"
        cards:
          - type: custom:mushroom-template-card
            primary: PM2.5
            secondary: "{{states('sensor.particulate_matter_pm25_wesel')}} AQI"
            icon: mdi:skull-outline
            entity: sensor.particulate_matter_pm25_wesel
            icon_color: >-
              {% set state = states('sensor.particulate_matter_pm25_wesel')
              | float %}


              {% if state <= 50 %} green

              {% elif state <= 100 %} yellow

              {% elif state <= 150 %} orange

              {% elif state <= 200 %} red

              {% elif state <= 300 %} purple

              {% elif state > 300 %} '#7e0023'

              {% else %} grey

              {% endif %}
            tap_action:
              action: more-info
            fill_container: true
            card_mod:
              style: |
                ha-card {
                  box-shadow: none;
                  border: solid 0px ;
                }
          - type: custom:bar-card
            name: " "
            height: 42px
            min: "0"
            max: "500"
            decimal: "4"
            severity:
              - from: "0"
                to: "50"
                color: green
              - from: "50.0001"
                to: "100"
                color: yellow
              - from: "100.0001"
                to: "150"
                color: orange
              - from: "150.0001"
                to: "200"
                color: red
              - from: "200.0001"
                to: "300"
                color: purple
              - from: "300.0001"
                to: "500"
                color: "#7e0023"
            entity_row: true
            positions:
              icon: "off"
              indicator: "off"
              value: "off"
            entities:
              - entity: sensor.particulate_matter_pm25_wesel
            color: grey
            card_mod:
              style: |
                ha-card {
                  padding: 12px;
                  margin-left: 12px;
                  --bar-card-border-radius: 12px;
                }
                bar-card-backgroundbar {
                  opacity: 0.2;
                  filter: brightness(1);
                }
      - type: custom:layout-card
        layout_type: custom:grid-layout
        layout:
          grid-template-columns: 45% 55%
          margin: "-4px -4px -20px -4px;"
        cards:
          - type: custom:mushroom-template-card
            primary: PM10
            secondary: "{{states('sensor.particulate_matter_pm10_wesel')}} AQI"
            icon: mdi:skull-outline
            entity: sensor.particulate_matter_pm10_wesel
            icon_color: >-
              {% set state = states('sensor.particulate_matter_pm10_wesel')
              | float %}


              {% if state <= 50 %} green

              {% elif state <= 100 %} yellow

              {% elif state <= 150 %} orange

              {% elif state <= 200 %} red

              {% elif state <= 300 %} purple

              {% elif state > 300 %} '#7e0023'

              {% else %} grey

              {% endif %}
            tap_action:
              action: more-info
            fill_container: true
            card_mod:
              style: |
                ha-card {
                  box-shadow: none;
                  border: solid 0px ;
                }
          - type: custom:bar-card
            name: " "
            height: 42px
            min: "0"
            max: "500"
            decimal: "4"
            severity:
              - from: "0"
                to: "50"
                color: green
              - from: "50.0001"
                to: "100"
                color: yellow
              - from: "100.0001"
                to: "150"
                color: orange
              - from: "150.0001"
                to: "200"
                color: red
              - from: "200.0001"
                to: "300"
                color: purple
              - from: "300.0001"
                to: "500"
                color: "#7e0023"
            entity_row: true
            positions:
              icon: "off"
              indicator: "off"
              value: "off"
            entities:
              - entity: sensor.particulate_matter_pm10_wesel
            color: grey
            card_mod:
              style: |
                ha-card {
                  padding: 12px;
                  margin-left: 12px;
                  --bar-card-border-radius: 12px;
                }
                bar-card-backgroundbar {
                  opacity: 0.2;
                  filter: brightness(1);
                }
      - type: conditional
        conditions:
          - entity: sensor.carbon_monoxide_co_wesel
            state_not: unavailable
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: 45% 55%
            margin: "-4px -4px -20px -4px;"
          cards:
            - type: custom:mushroom-template-card
              primary: Carbon monoxide (CO)
              secondary: "{{states('sensor.carbon_monoxide_co_wesel')}} AQI"
              icon: mdi:skull-outline
              entity: sensor.carbon_monoxide_co_wesel
              icon_color: >-
                {% set state = states('sensor.carbon_monoxide_co_wesel') |
                float %}


                {% if state <= 50 %} green

                {% elif state <= 100 %} yellow

                {% elif state <= 150 %} orange

                {% elif state <= 200 %} red

                {% elif state <= 300 %} purple

                {% elif state > 300 %} '#7e0023'

                {% else %} grey

                {% endif %}
              tap_action:
                action: more-info
              fill_container: true
              card_mod:
                style: |
                  ha-card {
                    box-shadow: none;
                    border: solid 0px ;
                  }
            - type: custom:bar-card
              name: " "
              height: 42px
              min: "0"
              max: "500"
              decimal: "4"
              severity:
                - from: "0"
                  to: "50"
                  color: green
                - from: "50.0001"
                  to: "100"
                  color: yellow
                - from: "100.0001"
                  to: "150"
                  color: orange
                - from: "150.0001"
                  to: "200"
                  color: red
                - from: "200.0001"
                  to: "300"
                  color: purple
                - from: "300.0001"
                  to: "500"
                  color: "#7e0023"
              entity_row: true
              positions:
                icon: "off"
                indicator: "off"
                value: "off"
              entities:
                - entity: sensor.carbon_monoxide_co_wesel
              color: grey
              card_mod:
                style: |
                  ha-card {
                    padding: 12px;
                    margin-left: 12px;
                    --bar-card-border-radius: 12px;
                  }
                  bar-card-backgroundbar {
                    opacity: 0.2;
                    filter: brightness(1);
                  }
      - type: conditional
        conditions:
          - entity: sensor.sulphur_dioxide_so2_wesel
            state_not: unavailable
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: 45% 55%
            margin: "-4px -4px -20px -4px;"
          cards:
            - type: custom:mushroom-template-card
              primary: Sulphur dioxide (SO2)
              secondary: "{{states('sensor.sulphur_dioxide_so2_wesel')}} AQI"
              icon: mdi:smog
              entity: sensor.sulphur_dioxide_so2_wesel
              icon_color: >
                {% set state = states('sensor.sulphur_dioxide_so2_wesel') |
                float %}


                {% if state <= 50 %} green

                {% elif state <= 100 %} yellow

                {% elif state <= 150 %} orange

                {% elif state <= 200 %} red

                {% elif state <= 300 %} purple

                {% elif state > 300 %} '#7e0023'

                {% else %} grey

                {% endif %}}
              tap_action:
                action: more-info
              fill_container: true
              card_mod:
                style: |
                  ha-card {
                    box-shadow: none;
                    border: solid 0px ;
                  }
            - type: custom:bar-card
              name: " "
              height: 42px
              min: "0"
              max: "500"
              decimal: "4"
              severity:
                - from: "0"
                  to: "50"
                  color: green
                - from: "50.0001"
                  to: "100"
                  color: yellow
                - from: "100.0001"
                  to: "150"
                  color: orange
                - from: "150.0001"
                  to: "200"
                  color: red
                - from: "200.0001"
                  to: "300"
                  color: purple
                - from: "300.0001"
                  to: "500"
                  color: "#7e0023"
              entity_row: true
              positions:
                icon: "off"
                indicator: "off"
                value: "off"
              entities:
                - entity: sensor.sulphur_dioxide_so2_wesel
              color: grey
              card_mod:
                style: |
                  ha-card {
                    padding: 12px;
                    margin-left: 12px;
                    --bar-card-border-radius: 12px;
                  }
                  bar-card-backgroundbar {
                    opacity: 0.2;
                    filter: brightness(1);
                  }
      - type: conditional
        conditions:
          - entity: sensor.nitrogen_dioxide_no2_wesel
            state_not: unavailable
        card:
          type: custom:layout-card
          layout_type: custom:grid-layout
          layout:
            grid-template-columns: 45% 55%
            margin: "-4px -4px -20px -4px;"
          cards:
            - type: custom:mushroom-template-card
              primary: Nitrogen dioxide (NO2)
              secondary: "{{states('sensor.nitrogen_dioxide_no2_wesel')}} AQI"
              icon: mdi:smog
              entity: sensor.nitrogen_dioxide_no2_wesel
              icon_color: >
                {% set state = states('sensor.nitrogen_dioxide_no2_wesel') |
                float %}


                {% if state <= 50 %} green

                {% elif state <= 100 %} yellow

                {% elif state <= 150 %} orange

                {% elif state <= 200 %} red

                {% elif state <= 300 %} purple

                {% elif state > 300 %} '#7e0023'

                {% else %} grey

                {% endif %}
              tap_action:
                action: more-info
              fill_container: true
              card_mod:
                style: |
                  ha-card {
                    box-shadow: none;
                    border: solid 0px ;
                  }
            - type: custom:bar-card
              name: " "
              height: 42px
              min: "0"
              max: "500"
              decimal: "4"
              severity:
                - from: "0"
                  to: "50"
                  color: green
                - from: "50.0001"
                  to: "100"
                  color: yellow
                - from: "100.0001"
                  to: "150"
                  color: orange
                - from: "150.0001"
                  to: "200"
                  color: red
                - from: "200.0001"
                  to: "300"
                  color: purple
                - from: "300.0001"
                  to: "500"
                  color: "#7e0023"
              entity_row: true
              positions:
                icon: "off"
                indicator: "off"
                value: "off"
              entities:
                - entity: sensor.nitrogen_dioxide_no2_wesel
              color: grey
              card_mod:
                style: |
                  ha-card {
                    padding: 12px;
                    margin-left: 12px;
                    --bar-card-border-radius: 12px;
                  }
                  bar-card-backgroundbar {
                    opacity: 0.2;
                    filter: brightness(1);
                  }
    card_mod:
      style: |
        ha-card {
          padding-bottom: 12px !important;
        }
  - type: custom:vertical-stack-in-card
    cards:
      - type: custom:mushroom-title-card
        title: Luftqualitätsstufen
        subtitle: Gesundheitliche Risiken
      - type: custom:mushroom-template-card
        entity: ""
        primary: Gut
        secondary: >-
          Die Qualität der Luft gilt als zufriedenstellend und die
          Luftverschmutzung stellt ein geringes oder kein Risiko dar.
        icon: mdi:leaf
        icon_color: green
        tap_action:
          action: url
          url_path: https://aqicn.org/city/germany/nrw/borken-gemen/
        multiline_secondary: true
        card_mod:
          style: |
            ha-card {
              margin-bottom: -10px;
            }
      - type: custom:mushroom-template-card
        entity: ""
        primary: Moderat
        secondary: >-
          Die Luftqualität ist insgesamt akzeptabel.

          Bei manchen Schadstoffe besteht jedoch eventuell eine geringe
          Gesundheitsgefahr für einen sehr kleinen Personenkreis, der sehr
          empfindlich auf Luftverschmutzung ist.
        icon: mdi:leaf
        icon_color: yellow
        tap_action:
          action: url
          url_path: https://aqicn.org/city/germany/nrw/borken-gemen/
        fill_container: false
        multiline_secondary: true
        card_mod:
          style: |
            ha-card {
              margin-bottom: -10px;
            }
      - type: custom:mushroom-template-card
        entity: ""
        primary: Ungesund für empfindliche Personengruppen
        secondary: >-
          Bei Mitgliedern von empfindlichen Personengruppen können
          gesundheitliche Auswirkungen auftreten.

          Die allgemeine Öffentlichkeit ist wahrscheinlich nicht betroffen.
        icon: mdi:leaf
        icon_color: orange
        tap_action:
          action: url
          url_path: https://aqicn.org/city/germany/nrw/borken-gemen/
        multiline_secondary: true
        card_mod:
          style: |
            ha-card {
              margin-bottom: -10px;
            }
      - type: custom:mushroom-template-card
        entity: ""
        primary: Ungesund
        secondary: >-
          Erste gesundheitliche Auswirkungen können sich bei allen Personen
          einstellen.

          Bei empfindlichen Personengruppen können ernstere gesundheitliche
          Auswirkungen auftreten.
        icon: mdi:leaf
        icon_color: red
        tap_action:
          action: url
          url_path: https://aqicn.org/city/germany/nrw/borken-gemen/
        multiline_secondary: true
        fill_container: true
        card_mod:
          style: |
            ha-card {
              margin-bottom: -10px;
            }
      - type: custom:mushroom-template-card
        entity: ""
        primary: Sehr ungesund
        secondary: |-
          Gesundheitswarnung aufgrund einer Notfallsituation.
          Die gesamte Bevölkerung ist voraussichtlich betroffen.
        icon: mdi:leaf
        icon_color: purple
        tap_action:
          action: url
          url_path: https://aqicn.org/city/germany/nrw/borken-gemen/
        multiline_secondary: true
        card_mod:
          style: |
            ha-card {
              margin-bottom: -10px;
            }
      - type: custom:mushroom-template-card
        entity: ""
        primary: Gefährlich
        secondary: |-
          Gesundheitsalarm.
          Jeder muss mit dem Auftreten ernsterer Gesundheitsschäden rechnen.
        icon: mdi:leaf
        icon_color: "#7e0023"
        tap_action:
          action: url
          url_path: https://aqicn.org/city/germany/nrw/borken-gemen/
        fill_container: true
        multiline_secondary: true
        card_mod:
          style: |
            ha-card {
              margin-bottom: -10px;
            }
      - type: markdown
        content: >-
          ***

          For more information see:

          [World's Air Pollution](https://waqi.info/de/)

          [Technical Assistance Document for the Reporting of Daily Air
          Quality - the Air Quality Index
          (AQI)](https://www.airnow.gov/sites/default/files/2020-05/aqi-technical-assistance-document-sept2018.pdf)

          [How to convert between mg/m3, µg/m3 and ppm,
          ppb](https://www.breeze-technologies.de/de/blog/air-pollution-how-to-convert-between-mgm3-%C2%B5gm3-ppm-ppb/)

          ***
